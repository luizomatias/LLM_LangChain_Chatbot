<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Memory &mdash; 🦜🔗 LangChain 0.0.218</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/autodoc_pydantic.css" type="text/css" />
      <link rel="stylesheet" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="/_/static/javascript/readthedocs-doc-embed.js"></script>
        <script src="../_static/js/mendablesearch.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Callbacks" href="callbacks.html" />
    <link rel="prev" title="Agent Toolkits" href="agent_toolkits.html" /> 

<!-- RTD Extra Head -->

<link rel="stylesheet" href="/_/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": false, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/docs/api_reference", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "modules/memory", "programming_language": "words", "project": "langchain", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {}, "theme": "sphinx_rtd_theme", "user_analytics_code": "", "version": "latest"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="/_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> 🦜🔗 LangChain
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Abstractions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="base_classes.html">Base classes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Core</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../model_io.html">Model I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_connection.html">Data connection</a></li>
<li class="toctree-l1"><a class="reference internal" href="chains.html">Chains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agents.html">Agents</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="callbacks.html">Callbacks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="experimental.html">Experimental</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">🦜🔗 LangChain</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Memory</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/hwchase17/langchain/blob/master/docs/api_referencemodules/memory.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-langchain.memory">
<span id="memory"></span><h1>Memory<a class="headerlink" href="#module-langchain.memory" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.CassandraChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">CassandraChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contact_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9042</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cassandra'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cassandra'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keyspace_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chat_history'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'message_store'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/cassandra.html#CassandraChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CassandraChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>Chat message history that stores history in Cassandra.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contact_points</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – list of ips to connect to Cassandra cluster</p></li>
<li><p><strong>session_id</strong> (<em>str</em>) – arbitrary key that is used to store the messages
of a single chat session.</p></li>
<li><p><strong>port</strong> (<em>int</em>) – port to connect to Cassandra cluster</p></li>
<li><p><strong>username</strong> (<em>str</em>) – username to connect to Cassandra cluster</p></li>
<li><p><strong>password</strong> (<em>str</em>) – password to connect to Cassandra cluster</p></li>
<li><p><strong>keyspace_name</strong> (<em>str</em>) – name of the keyspace to use</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – name of the table to use</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.CassandraChatMessageHistory.messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.CassandraChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the messages from Cassandra</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CassandraChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/cassandra.html#CassandraChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CassandraChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Append the message to the record in Cassandra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CassandraChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/cassandra.html#CassandraChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CassandraChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear session memory from Cassandra</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/in_memory.html#ChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>messages</strong> (<em>List</em><em>[</em><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ChatMessageHistory.messages">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#langchain.memory.ChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/in_memory.html#ChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Add a self-created message to the store</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/in_memory.html#ChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Remove all messages from the store</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.CombinedMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">CombinedMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memories</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/combined.html#CombinedMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CombinedMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseMemory" title="langchain.schema.BaseMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseMemory</span></code></a></p>
<p>Class for combining multiple memories’ data together.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>memories</strong> (<em>List</em><em>[</em><a class="reference internal" href="base_classes.html#langchain.schema.BaseMemory" title="langchain.schema.BaseMemory"><em>langchain.schema.BaseMemory</em></a><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.CombinedMemory.memories">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memories</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMemory" title="langchain.schema.BaseMemory"><span class="pre">langchain.schema.BaseMemory</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#langchain.memory.CombinedMemory.memories" title="Permalink to this definition"></a></dt>
<dd><p>For tracking all the memories that should be accessed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CombinedMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/combined.html#CombinedMemory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CombinedMemory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear context from this session for every memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CombinedMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/combined.html#CombinedMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CombinedMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Load all vars from sub-memories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CombinedMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/combined.html#CombinedMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CombinedMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Save context from this session for every memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.CombinedMemory.memory_variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_variables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.CombinedMemory.memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>All the memory variables that this instance provides.</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ConversationBufferMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">human_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Human'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ai_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AI'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'history'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/buffer.html#ConversationBufferMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationBufferMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.chat_memory.BaseChatMemory</span></code></p>
<p>Buffer for storing conversation memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chat_memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><em>langchain.schema.BaseChatMessageHistory</em></a>) – </p></li>
<li><p><strong>output_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>return_messages</strong> (<em>bool</em>) – </p></li>
<li><p><strong>human_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ai_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>memory_key</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferMemory.ai_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ai_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AI'</span></em><a class="headerlink" href="#langchain.memory.ConversationBufferMemory.ai_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferMemory.human_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">human_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Human'</span></em><a class="headerlink" href="#langchain.memory.ConversationBufferMemory.human_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/buffer.html#ConversationBufferMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationBufferMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return history buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferMemory.buffer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#langchain.memory.ConversationBufferMemory.buffer" title="Permalink to this definition"></a></dt>
<dd><p>String buffer of memory.</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferWindowMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ConversationBufferWindowMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">human_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Human'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ai_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AI'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'history'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/buffer_window.html#ConversationBufferWindowMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationBufferWindowMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.chat_memory.BaseChatMemory</span></code></p>
<p>Buffer for storing conversation memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chat_memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><em>langchain.schema.BaseChatMessageHistory</em></a>) – </p></li>
<li><p><strong>output_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>return_messages</strong> (<em>bool</em>) – </p></li>
<li><p><strong>human_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ai_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>memory_key</strong> (<em>str</em>) – </p></li>
<li><p><strong>k</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferWindowMemory.ai_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ai_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AI'</span></em><a class="headerlink" href="#langchain.memory.ConversationBufferWindowMemory.ai_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferWindowMemory.human_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">human_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Human'</span></em><a class="headerlink" href="#langchain.memory.ConversationBufferWindowMemory.human_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferWindowMemory.k">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">k</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#langchain.memory.ConversationBufferWindowMemory.k" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferWindowMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/buffer_window.html#ConversationBufferWindowMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationBufferWindowMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return history buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ConversationBufferWindowMemory.buffer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.ConversationBufferWindowMemory.buffer" title="Permalink to this definition"></a></dt>
<dd><p>String buffer of memory.</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ConversationEntityMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">human_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Human'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ai_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AI'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_extraction_prompt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">PromptTemplate(input_variables=['history',</span> <span class="pre">'input'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template='You</span> <span class="pre">are</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">assistant</span> <span class="pre">reading</span> <span class="pre">the</span> <span class="pre">transcript</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">conversation</span> <span class="pre">between</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">and</span> <span class="pre">a</span> <span class="pre">human.</span> <span class="pre">Extract</span> <span class="pre">all</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">proper</span> <span class="pre">nouns</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation.</span> <span class="pre">As</span> <span class="pre">a</span> <span class="pre">guideline,</span> <span class="pre">a</span> <span class="pre">proper</span> <span class="pre">noun</span> <span class="pre">is</span> <span class="pre">generally</span> <span class="pre">capitalized.</span> <span class="pre">You</span> <span class="pre">should</span> <span class="pre">definitely</span> <span class="pre">extract</span> <span class="pre">all</span> <span class="pre">names</span> <span class="pre">and</span> <span class="pre">places.\n\nThe</span> <span class="pre">conversation</span> <span class="pre">history</span> <span class="pre">is</span> <span class="pre">provided</span> <span class="pre">just</span> <span class="pre">in</span> <span class="pre">case</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">coreference</span> <span class="pre">(e.g.</span> <span class="pre">&quot;What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">him&quot;</span> <span class="pre">where</span> <span class="pre">&quot;him&quot;</span> <span class="pre">is</span> <span class="pre">defined</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">previous</span> <span class="pre">line)</span> <span class="pre">--</span> <span class="pre">ignore</span> <span class="pre">items</span> <span class="pre">mentioned</span> <span class="pre">there</span> <span class="pre">that</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line.\n\nReturn</span> <span class="pre">the</span> <span class="pre">output</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">comma-separated</span> <span class="pre">list,</span> <span class="pre">or</span> <span class="pre">NONE</span> <span class="pre">if</span> <span class="pre">there</span> <span class="pre">is</span> <span class="pre">nothing</span> <span class="pre">of</span> <span class="pre">note</span> <span class="pre">to</span> <span class="pre">return</span> <span class="pre">(e.g.</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">is</span> <span class="pre">just</span> <span class="pre">issuing</span> <span class="pre">a</span> <span class="pre">greeting</span> <span class="pre">or</span> <span class="pre">having</span> <span class="pre">a</span> <span class="pre">simple</span> <span class="pre">conversation).\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">how\'s</span> <span class="pre">it</span> <span class="pre">going</span> <span class="pre">today?\nAI:</span> <span class="pre">&quot;It\'s</span> <span class="pre">going</span> <span class="pre">great!</span> <span class="pre">How</span> <span class="pre">about</span> <span class="pre">you?&quot;\nPerson</span> <span class="pre">#1:</span> <span class="pre">good!</span> <span class="pre">busy</span> <span class="pre">working</span> <span class="pre">on</span> <span class="pre">Langchain.</span> <span class="pre">lots</span> <span class="pre">to</span> <span class="pre">do.\nAI:</span> <span class="pre">&quot;That</span> <span class="pre">sounds</span> <span class="pre">like</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">work!</span> <span class="pre">What</span> <span class="pre">kind</span> <span class="pre">of</span> <span class="pre">things</span> <span class="pre">are</span> <span class="pre">you</span> <span class="pre">doing</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">Langchain</span> <span class="pre">better?&quot;\nLast</span> <span class="pre">line:\nPerson</span> <span class="pre">#1:</span> <span class="pre">i\'m</span> <span class="pre">trying</span> <span class="pre">to</span> <span class="pre">improve</span> <span class="pre">Langchain\'s</span> <span class="pre">interfaces,</span> <span class="pre">the</span> <span class="pre">UX,</span> <span class="pre">its</span> <span class="pre">integrations</span> <span class="pre">with</span> <span class="pre">various</span> <span class="pre">products</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">might</span> <span class="pre">want</span> <span class="pre">...</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">stuff.\nOutput:</span> <span class="pre">Langchain\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">how\'s</span> <span class="pre">it</span> <span class="pre">going</span> <span class="pre">today?\nAI:</span> <span class="pre">&quot;It\'s</span> <span class="pre">going</span> <span class="pre">great!</span> <span class="pre">How</span> <span class="pre">about</span> <span class="pre">you?&quot;\nPerson</span> <span class="pre">#1:</span> <span class="pre">good!</span> <span class="pre">busy</span> <span class="pre">working</span> <span class="pre">on</span> <span class="pre">Langchain.</span> <span class="pre">lots</span> <span class="pre">to</span> <span class="pre">do.\nAI:</span> <span class="pre">&quot;That</span> <span class="pre">sounds</span> <span class="pre">like</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">work!</span> <span class="pre">What</span> <span class="pre">kind</span> <span class="pre">of</span> <span class="pre">things</span> <span class="pre">are</span> <span class="pre">you</span> <span class="pre">doing</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">Langchain</span> <span class="pre">better?&quot;\nLast</span> <span class="pre">line:\nPerson</span> <span class="pre">#1:</span> <span class="pre">i\'m</span> <span class="pre">trying</span> <span class="pre">to</span> <span class="pre">improve</span> <span class="pre">Langchain\'s</span> <span class="pre">interfaces,</span> <span class="pre">the</span> <span class="pre">UX,</span> <span class="pre">its</span> <span class="pre">integrations</span> <span class="pre">with</span> <span class="pre">various</span> <span class="pre">products</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">might</span> <span class="pre">want</span> <span class="pre">...</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">stuff.</span> <span class="pre">I\'m</span> <span class="pre">working</span> <span class="pre">with</span> <span class="pre">Person</span> <span class="pre">#2.\nOutput:</span> <span class="pre">Langchain,</span> <span class="pre">Person</span> <span class="pre">#2\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nConversation</span> <span class="pre">history</span> <span class="pre">(for</span> <span class="pre">reference</span> <span class="pre">only):\n{history}\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">(for</span> <span class="pre">extraction):\nHuman:</span> <span class="pre">{input}\n\nOutput:',</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_summarization_prompt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">PromptTemplate(input_variables=['entity',</span> <span class="pre">'summary',</span> <span class="pre">'history',</span> <span class="pre">'input'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template='You</span> <span class="pre">are</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">assistant</span> <span class="pre">helping</span> <span class="pre">a</span> <span class="pre">human</span> <span class="pre">keep</span> <span class="pre">track</span> <span class="pre">of</span> <span class="pre">facts</span> <span class="pre">about</span> <span class="pre">relevant</span> <span class="pre">people,</span> <span class="pre">places,</span> <span class="pre">and</span> <span class="pre">concepts</span> <span class="pre">in</span> <span class="pre">their</span> <span class="pre">life.</span> <span class="pre">Update</span> <span class="pre">the</span> <span class="pre">summary</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">entity</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">&quot;Entity&quot;</span> <span class="pre">section</span> <span class="pre">based</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">your</span> <span class="pre">conversation</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">human.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">are</span> <span class="pre">writing</span> <span class="pre">the</span> <span class="pre">summary</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">first</span> <span class="pre">time,</span> <span class="pre">return</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">sentence.\nThe</span> <span class="pre">update</span> <span class="pre">should</span> <span class="pre">only</span> <span class="pre">include</span> <span class="pre">facts</span> <span class="pre">that</span> <span class="pre">are</span> <span class="pre">relayed</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">about</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">entity,</span> <span class="pre">and</span> <span class="pre">should</span> <span class="pre">only</span> <span class="pre">contain</span> <span class="pre">facts</span> <span class="pre">about</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">entity.\n\nIf</span> <span class="pre">there</span> <span class="pre">is</span> <span class="pre">no</span> <span class="pre">new</span> <span class="pre">information</span> <span class="pre">about</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">entity</span> <span class="pre">or</span> <span class="pre">the</span> <span class="pre">information</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">worth</span> <span class="pre">noting</span> <span class="pre">(not</span> <span class="pre">an</span> <span class="pre">important</span> <span class="pre">or</span> <span class="pre">relevant</span> <span class="pre">fact</span> <span class="pre">to</span> <span class="pre">remember</span> <span class="pre">long-term),</span> <span class="pre">return</span> <span class="pre">the</span> <span class="pre">existing</span> <span class="pre">summary</span> <span class="pre">unchanged.\n\nFull</span> <span class="pre">conversation</span> <span class="pre">history</span> <span class="pre">(for</span> <span class="pre">context):\n{history}\n\nEntity</span> <span class="pre">to</span> <span class="pre">summarize:\n{entity}\n\nExisting</span> <span class="pre">summary</span> <span class="pre">of</span> <span class="pre">{entity}:\n{summary}\n\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation:\nHuman:</span> <span class="pre">{input}\nUpdated</span> <span class="pre">summary:',</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_history_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'history'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#ConversationEntityMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationEntityMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.chat_memory.BaseChatMemory</span></code></p>
<p>Entity extractor &amp; summarizer memory.</p>
<p>Extracts named entities from the recent chat history and generates summaries.
With a swapable entity store, persisting entities across conversations.
Defaults to an in-memory entity store, and can be swapped out for a Redis,
SQLite, or other entity store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chat_memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><em>langchain.schema.BaseChatMessageHistory</em></a>) – </p></li>
<li><p><strong>output_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>return_messages</strong> (<em>bool</em>) – </p></li>
<li><p><strong>human_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ai_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>llm</strong> (<em>langchain.base_language.BaseLanguageModel</em>) – </p></li>
<li><p><strong>entity_extraction_prompt</strong> (<a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><em>langchain.prompts.base.BasePromptTemplate</em></a>) – </p></li>
<li><p><strong>entity_summarization_prompt</strong> (<a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><em>langchain.prompts.base.BasePromptTemplate</em></a>) – </p></li>
<li><p><strong>entity_cache</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>k</strong> (<em>int</em>) – </p></li>
<li><p><strong>chat_history_key</strong> (<em>str</em>) – </p></li>
<li><p><strong>entity_store</strong> (<em>langchain.memory.entity.BaseEntityStore</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.ai_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ai_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AI'</span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.ai_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.chat_history_key">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">chat_history_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'history'</span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.chat_history_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.entity_cache">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entity_cache</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.entity_cache" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.entity_extraction_prompt">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entity_extraction_prompt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><span class="pre">langchain.prompts.base.BasePromptTemplate</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PromptTemplate(input_variables=['history',</span> <span class="pre">'input'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template='You</span> <span class="pre">are</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">assistant</span> <span class="pre">reading</span> <span class="pre">the</span> <span class="pre">transcript</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">conversation</span> <span class="pre">between</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">and</span> <span class="pre">a</span> <span class="pre">human.</span> <span class="pre">Extract</span> <span class="pre">all</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">proper</span> <span class="pre">nouns</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation.</span> <span class="pre">As</span> <span class="pre">a</span> <span class="pre">guideline,</span> <span class="pre">a</span> <span class="pre">proper</span> <span class="pre">noun</span> <span class="pre">is</span> <span class="pre">generally</span> <span class="pre">capitalized.</span> <span class="pre">You</span> <span class="pre">should</span> <span class="pre">definitely</span> <span class="pre">extract</span> <span class="pre">all</span> <span class="pre">names</span> <span class="pre">and</span> <span class="pre">places.\n\nThe</span> <span class="pre">conversation</span> <span class="pre">history</span> <span class="pre">is</span> <span class="pre">provided</span> <span class="pre">just</span> <span class="pre">in</span> <span class="pre">case</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">coreference</span> <span class="pre">(e.g.</span> <span class="pre">&quot;What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">him&quot;</span> <span class="pre">where</span> <span class="pre">&quot;him&quot;</span> <span class="pre">is</span> <span class="pre">defined</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">previous</span> <span class="pre">line)</span> <span class="pre">--</span> <span class="pre">ignore</span> <span class="pre">items</span> <span class="pre">mentioned</span> <span class="pre">there</span> <span class="pre">that</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line.\n\nReturn</span> <span class="pre">the</span> <span class="pre">output</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">comma-separated</span> <span class="pre">list,</span> <span class="pre">or</span> <span class="pre">NONE</span> <span class="pre">if</span> <span class="pre">there</span> <span class="pre">is</span> <span class="pre">nothing</span> <span class="pre">of</span> <span class="pre">note</span> <span class="pre">to</span> <span class="pre">return</span> <span class="pre">(e.g.</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">is</span> <span class="pre">just</span> <span class="pre">issuing</span> <span class="pre">a</span> <span class="pre">greeting</span> <span class="pre">or</span> <span class="pre">having</span> <span class="pre">a</span> <span class="pre">simple</span> <span class="pre">conversation).\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">how\'s</span> <span class="pre">it</span> <span class="pre">going</span> <span class="pre">today?\nAI:</span> <span class="pre">&quot;It\'s</span> <span class="pre">going</span> <span class="pre">great!</span> <span class="pre">How</span> <span class="pre">about</span> <span class="pre">you?&quot;\nPerson</span> <span class="pre">#1:</span> <span class="pre">good!</span> <span class="pre">busy</span> <span class="pre">working</span> <span class="pre">on</span> <span class="pre">Langchain.</span> <span class="pre">lots</span> <span class="pre">to</span> <span class="pre">do.\nAI:</span> <span class="pre">&quot;That</span> <span class="pre">sounds</span> <span class="pre">like</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">work!</span> <span class="pre">What</span> <span class="pre">kind</span> <span class="pre">of</span> <span class="pre">things</span> <span class="pre">are</span> <span class="pre">you</span> <span class="pre">doing</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">Langchain</span> <span class="pre">better?&quot;\nLast</span> <span class="pre">line:\nPerson</span> <span class="pre">#1:</span> <span class="pre">i\'m</span> <span class="pre">trying</span> <span class="pre">to</span> <span class="pre">improve</span> <span class="pre">Langchain\'s</span> <span class="pre">interfaces,</span> <span class="pre">the</span> <span class="pre">UX,</span> <span class="pre">its</span> <span class="pre">integrations</span> <span class="pre">with</span> <span class="pre">various</span> <span class="pre">products</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">might</span> <span class="pre">want</span> <span class="pre">...</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">stuff.\nOutput:</span> <span class="pre">Langchain\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">how\'s</span> <span class="pre">it</span> <span class="pre">going</span> <span class="pre">today?\nAI:</span> <span class="pre">&quot;It\'s</span> <span class="pre">going</span> <span class="pre">great!</span> <span class="pre">How</span> <span class="pre">about</span> <span class="pre">you?&quot;\nPerson</span> <span class="pre">#1:</span> <span class="pre">good!</span> <span class="pre">busy</span> <span class="pre">working</span> <span class="pre">on</span> <span class="pre">Langchain.</span> <span class="pre">lots</span> <span class="pre">to</span> <span class="pre">do.\nAI:</span> <span class="pre">&quot;That</span> <span class="pre">sounds</span> <span class="pre">like</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">work!</span> <span class="pre">What</span> <span class="pre">kind</span> <span class="pre">of</span> <span class="pre">things</span> <span class="pre">are</span> <span class="pre">you</span> <span class="pre">doing</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">Langchain</span> <span class="pre">better?&quot;\nLast</span> <span class="pre">line:\nPerson</span> <span class="pre">#1:</span> <span class="pre">i\'m</span> <span class="pre">trying</span> <span class="pre">to</span> <span class="pre">improve</span> <span class="pre">Langchain\'s</span> <span class="pre">interfaces,</span> <span class="pre">the</span> <span class="pre">UX,</span> <span class="pre">its</span> <span class="pre">integrations</span> <span class="pre">with</span> <span class="pre">various</span> <span class="pre">products</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">might</span> <span class="pre">want</span> <span class="pre">...</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">stuff.</span> <span class="pre">I\'m</span> <span class="pre">working</span> <span class="pre">with</span> <span class="pre">Person</span> <span class="pre">#2.\nOutput:</span> <span class="pre">Langchain,</span> <span class="pre">Person</span> <span class="pre">#2\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nConversation</span> <span class="pre">history</span> <span class="pre">(for</span> <span class="pre">reference</span> <span class="pre">only):\n{history}\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">(for</span> <span class="pre">extraction):\nHuman:</span> <span class="pre">{input}\n\nOutput:',</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True)</span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.entity_extraction_prompt" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.entity_store">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entity_store</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">langchain.memory.entity.BaseEntityStore</span></em><em class="property"> <span class="pre">[Optional]</span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.entity_store" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.entity_summarization_prompt">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entity_summarization_prompt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><span class="pre">langchain.prompts.base.BasePromptTemplate</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PromptTemplate(input_variables=['entity',</span> <span class="pre">'summary',</span> <span class="pre">'history',</span> <span class="pre">'input'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template='You</span> <span class="pre">are</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">assistant</span> <span class="pre">helping</span> <span class="pre">a</span> <span class="pre">human</span> <span class="pre">keep</span> <span class="pre">track</span> <span class="pre">of</span> <span class="pre">facts</span> <span class="pre">about</span> <span class="pre">relevant</span> <span class="pre">people,</span> <span class="pre">places,</span> <span class="pre">and</span> <span class="pre">concepts</span> <span class="pre">in</span> <span class="pre">their</span> <span class="pre">life.</span> <span class="pre">Update</span> <span class="pre">the</span> <span class="pre">summary</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">entity</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">&quot;Entity&quot;</span> <span class="pre">section</span> <span class="pre">based</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">your</span> <span class="pre">conversation</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">human.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">are</span> <span class="pre">writing</span> <span class="pre">the</span> <span class="pre">summary</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">first</span> <span class="pre">time,</span> <span class="pre">return</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">sentence.\nThe</span> <span class="pre">update</span> <span class="pre">should</span> <span class="pre">only</span> <span class="pre">include</span> <span class="pre">facts</span> <span class="pre">that</span> <span class="pre">are</span> <span class="pre">relayed</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">about</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">entity,</span> <span class="pre">and</span> <span class="pre">should</span> <span class="pre">only</span> <span class="pre">contain</span> <span class="pre">facts</span> <span class="pre">about</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">entity.\n\nIf</span> <span class="pre">there</span> <span class="pre">is</span> <span class="pre">no</span> <span class="pre">new</span> <span class="pre">information</span> <span class="pre">about</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">entity</span> <span class="pre">or</span> <span class="pre">the</span> <span class="pre">information</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">worth</span> <span class="pre">noting</span> <span class="pre">(not</span> <span class="pre">an</span> <span class="pre">important</span> <span class="pre">or</span> <span class="pre">relevant</span> <span class="pre">fact</span> <span class="pre">to</span> <span class="pre">remember</span> <span class="pre">long-term),</span> <span class="pre">return</span> <span class="pre">the</span> <span class="pre">existing</span> <span class="pre">summary</span> <span class="pre">unchanged.\n\nFull</span> <span class="pre">conversation</span> <span class="pre">history</span> <span class="pre">(for</span> <span class="pre">context):\n{history}\n\nEntity</span> <span class="pre">to</span> <span class="pre">summarize:\n{entity}\n\nExisting</span> <span class="pre">summary</span> <span class="pre">of</span> <span class="pre">{entity}:\n{summary}\n\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation:\nHuman:</span> <span class="pre">{input}\nUpdated</span> <span class="pre">summary:',</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True)</span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.entity_summarization_prompt" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.human_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">human_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Human'</span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.human_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.k">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">k</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.k" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.llm">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">llm</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">langchain.base_language.BaseLanguageModel</span></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.llm" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#ConversationEntityMemory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear memory contents.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#ConversationEntityMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Returns chat history and all generated entities with summaries if available,
and updates or clears the recent entity cache.</p>
<p>New entity name can be found when calling this method, before the entity
summaries are generated, so the entity cache values may be empty if no entity
descriptions are generated yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#ConversationEntityMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Save context from this conversation history to the entity store.</p>
<p>Generates a summary for each entity in the entity cache by prompting
the model, and saves these summaries to the entity store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ConversationEntityMemory.buffer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.ConversationEntityMemory.buffer" title="Permalink to this definition"></a></dt>
<dd><p>Access chat memory messages.</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ConversationKGMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*,</span> <span class="pre">chat_memory=None,</span> <span class="pre">output_key=None,</span> <span class="pre">input_key=None,</span> <span class="pre">return_messages=False,</span> <span class="pre">k=2,</span> <span class="pre">human_prefix='Human',</span> <span class="pre">ai_prefix='AI',</span> <span class="pre">kg=None,</span> <span class="pre">knowledge_extraction_prompt=PromptTemplate(input_variables=['history',</span> <span class="pre">'input'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template=&quot;You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">networked</span> <span class="pre">intelligence</span> <span class="pre">helping</span> <span class="pre">a</span> <span class="pre">human</span> <span class="pre">track</span> <span class="pre">knowledge</span> <span class="pre">triples</span> <span class="pre">about</span> <span class="pre">all</span> <span class="pre">relevant</span> <span class="pre">people,</span> <span class="pre">things,</span> <span class="pre">concepts,</span> <span class="pre">etc.</span> <span class="pre">and</span> <span class="pre">integrating</span> <span class="pre">them</span> <span class="pre">with</span> <span class="pre">your</span> <span class="pre">knowledge</span> <span class="pre">stored</span> <span class="pre">within</span> <span class="pre">your</span> <span class="pre">weights</span> <span class="pre">as</span> <span class="pre">well</span> <span class="pre">as</span> <span class="pre">that</span> <span class="pre">stored</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">knowledge</span> <span class="pre">graph.</span> <span class="pre">Extract</span> <span class="pre">all</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">knowledge</span> <span class="pre">triples</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation.</span> <span class="pre">A</span> <span class="pre">knowledge</span> <span class="pre">triple</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">clause</span> <span class="pre">that</span> <span class="pre">contains</span> <span class="pre">a</span> <span class="pre">subject,</span> <span class="pre">a</span> <span class="pre">predicate,</span> <span class="pre">and</span> <span class="pre">an</span> <span class="pre">object.</span> <span class="pre">The</span> <span class="pre">subject</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">entity</span> <span class="pre">being</span> <span class="pre">described,</span> <span class="pre">the</span> <span class="pre">predicate</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">property</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">subject</span> <span class="pre">that</span> <span class="pre">is</span> <span class="pre">being</span> <span class="pre">described,</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">object</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">value</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">property.\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">Did</span> <span class="pre">you</span> <span class="pre">hear</span> <span class="pre">aliens</span> <span class="pre">landed</span> <span class="pre">in</span> <span class="pre">Area</span> <span class="pre">51?\nAI:</span> <span class="pre">No,</span> <span class="pre">I</span> <span class="pre">didn't</span> <span class="pre">hear</span> <span class="pre">that.</span> <span class="pre">What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">Area</span> <span class="pre">51?\nPerson</span> <span class="pre">#1:</span> <span class="pre">It's</span> <span class="pre">a</span> <span class="pre">secret</span> <span class="pre">military</span> <span class="pre">base</span> <span class="pre">in</span> <span class="pre">Nevada.\nAI:</span> <span class="pre">What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">Nevada?\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation:\nPerson</span> <span class="pre">#1:</span> <span class="pre">It's</span> <span class="pre">a</span> <span class="pre">state</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">US.</span> <span class="pre">It's</span> <span class="pre">also</span> <span class="pre">the</span> <span class="pre">number</span> <span class="pre">1</span> <span class="pre">producer</span> <span class="pre">of</span> <span class="pre">gold</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">US.\n\nOutput:</span> <span class="pre">(Nevada,</span> <span class="pre">is</span> <span class="pre">a,</span> <span class="pre">state)&lt;|&gt;(Nevada,</span> <span class="pre">is</span> <span class="pre">in,</span> <span class="pre">US)&lt;|&gt;(Nevada,</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">number</span> <span class="pre">1</span> <span class="pre">producer</span> <span class="pre">of,</span> <span class="pre">gold)\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">Hello.\nAI:</span> <span class="pre">Hi!</span> <span class="pre">How</span> <span class="pre">are</span> <span class="pre">you?\nPerson</span> <span class="pre">#1:</span> <span class="pre">I'm</span> <span class="pre">good.</span> <span class="pre">How</span> <span class="pre">are</span> <span class="pre">you?\nAI:</span> <span class="pre">I'm</span> <span class="pre">good</span> <span class="pre">too.\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation:\nPerson</span> <span class="pre">#1:</span> <span class="pre">I'm</span> <span class="pre">going</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">store.\n\nOutput:</span> <span class="pre">NONE\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">Descartes?\nAI:</span> <span class="pre">Descartes</span> <span class="pre">was</span> <span class="pre">a</span> <span class="pre">French</span> <span class="pre">philosopher,</span> <span class="pre">mathematician,</span> <span class="pre">and</span> <span class="pre">scientist</span> <span class="pre">who</span> <span class="pre">lived</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">17th</span> <span class="pre">century.\nPerson</span> <span class="pre">#1:</span> <span class="pre">The</span> <span class="pre">Descartes</span> <span class="pre">I'm</span> <span class="pre">referring</span> <span class="pre">to</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">standup</span> <span class="pre">comedian</span> <span class="pre">and</span> <span class="pre">interior</span> <span class="pre">designer</span> <span class="pre">from</span> <span class="pre">Montreal.\nAI:</span> <span class="pre">Oh</span> <span class="pre">yes,</span> <span class="pre">He</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">comedian</span> <span class="pre">and</span> <span class="pre">an</span> <span class="pre">interior</span> <span class="pre">designer.</span> <span class="pre">He</span> <span class="pre">has</span> <span class="pre">been</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">industry</span> <span class="pre">for</span> <span class="pre">30</span> <span class="pre">years.</span> <span class="pre">His</span> <span class="pre">favorite</span> <span class="pre">food</span> <span class="pre">is</span> <span class="pre">baked</span> <span class="pre">bean</span> <span class="pre">pie.\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation:\nPerson</span> <span class="pre">#1:</span> <span class="pre">Oh</span> <span class="pre">huh.</span> <span class="pre">I</span> <span class="pre">know</span> <span class="pre">Descartes</span> <span class="pre">likes</span> <span class="pre">to</span> <span class="pre">drive</span> <span class="pre">antique</span> <span class="pre">scooters</span> <span class="pre">and</span> <span class="pre">play</span> <span class="pre">the</span> <span class="pre">mandolin.\nOutput:</span> <span class="pre">(Descartes,</span> <span class="pre">likes</span> <span class="pre">to</span> <span class="pre">drive,</span> <span class="pre">antique</span> <span class="pre">scooters)&lt;|&gt;(Descartes,</span> <span class="pre">plays,</span> <span class="pre">mandolin)\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nConversation</span> <span class="pre">history</span> <span class="pre">(for</span> <span class="pre">reference</span> <span class="pre">only):\n{history}\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">(for</span> <span class="pre">extraction):\nHuman:</span> <span class="pre">{input}\n\nOutput:&quot;,</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True),</span> <span class="pre">entity_extraction_prompt=PromptTemplate(input_variables=['history',</span> <span class="pre">'input'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template='You</span> <span class="pre">are</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">assistant</span> <span class="pre">reading</span> <span class="pre">the</span> <span class="pre">transcript</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">conversation</span> <span class="pre">between</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">and</span> <span class="pre">a</span> <span class="pre">human.</span> <span class="pre">Extract</span> <span class="pre">all</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">proper</span> <span class="pre">nouns</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation.</span> <span class="pre">As</span> <span class="pre">a</span> <span class="pre">guideline,</span> <span class="pre">a</span> <span class="pre">proper</span> <span class="pre">noun</span> <span class="pre">is</span> <span class="pre">generally</span> <span class="pre">capitalized.</span> <span class="pre">You</span> <span class="pre">should</span> <span class="pre">definitely</span> <span class="pre">extract</span> <span class="pre">all</span> <span class="pre">names</span> <span class="pre">and</span> <span class="pre">places.\n\nThe</span> <span class="pre">conversation</span> <span class="pre">history</span> <span class="pre">is</span> <span class="pre">provided</span> <span class="pre">just</span> <span class="pre">in</span> <span class="pre">case</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">coreference</span> <span class="pre">(e.g.</span> <span class="pre">&quot;What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">him&quot;</span> <span class="pre">where</span> <span class="pre">&quot;him&quot;</span> <span class="pre">is</span> <span class="pre">defined</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">previous</span> <span class="pre">line)</span> <span class="pre">--</span> <span class="pre">ignore</span> <span class="pre">items</span> <span class="pre">mentioned</span> <span class="pre">there</span> <span class="pre">that</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line.\n\nReturn</span> <span class="pre">the</span> <span class="pre">output</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">comma-separated</span> <span class="pre">list,</span> <span class="pre">or</span> <span class="pre">NONE</span> <span class="pre">if</span> <span class="pre">there</span> <span class="pre">is</span> <span class="pre">nothing</span> <span class="pre">of</span> <span class="pre">note</span> <span class="pre">to</span> <span class="pre">return</span> <span class="pre">(e.g.</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">is</span> <span class="pre">just</span> <span class="pre">issuing</span> <span class="pre">a</span> <span class="pre">greeting</span> <span class="pre">or</span> <span class="pre">having</span> <span class="pre">a</span> <span class="pre">simple</span> <span class="pre">conversation).\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">how\'s</span> <span class="pre">it</span> <span class="pre">going</span> <span class="pre">today?\nAI:</span> <span class="pre">&quot;It\'s</span> <span class="pre">going</span> <span class="pre">great!</span> <span class="pre">How</span> <span class="pre">about</span> <span class="pre">you?&quot;\nPerson</span> <span class="pre">#1:</span> <span class="pre">good!</span> <span class="pre">busy</span> <span class="pre">working</span> <span class="pre">on</span> <span class="pre">Langchain.</span> <span class="pre">lots</span> <span class="pre">to</span> <span class="pre">do.\nAI:</span> <span class="pre">&quot;That</span> <span class="pre">sounds</span> <span class="pre">like</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">work!</span> <span class="pre">What</span> <span class="pre">kind</span> <span class="pre">of</span> <span class="pre">things</span> <span class="pre">are</span> <span class="pre">you</span> <span class="pre">doing</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">Langchain</span> <span class="pre">better?&quot;\nLast</span> <span class="pre">line:\nPerson</span> <span class="pre">#1:</span> <span class="pre">i\'m</span> <span class="pre">trying</span> <span class="pre">to</span> <span class="pre">improve</span> <span class="pre">Langchain\'s</span> <span class="pre">interfaces,</span> <span class="pre">the</span> <span class="pre">UX,</span> <span class="pre">its</span> <span class="pre">integrations</span> <span class="pre">with</span> <span class="pre">various</span> <span class="pre">products</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">might</span> <span class="pre">want</span> <span class="pre">...</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">stuff.\nOutput:</span> <span class="pre">Langchain\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">how\'s</span> <span class="pre">it</span> <span class="pre">going</span> <span class="pre">today?\nAI:</span> <span class="pre">&quot;It\'s</span> <span class="pre">going</span> <span class="pre">great!</span> <span class="pre">How</span> <span class="pre">about</span> <span class="pre">you?&quot;\nPerson</span> <span class="pre">#1:</span> <span class="pre">good!</span> <span class="pre">busy</span> <span class="pre">working</span> <span class="pre">on</span> <span class="pre">Langchain.</span> <span class="pre">lots</span> <span class="pre">to</span> <span class="pre">do.\nAI:</span> <span class="pre">&quot;That</span> <span class="pre">sounds</span> <span class="pre">like</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">work!</span> <span class="pre">What</span> <span class="pre">kind</span> <span class="pre">of</span> <span class="pre">things</span> <span class="pre">are</span> <span class="pre">you</span> <span class="pre">doing</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">Langchain</span> <span class="pre">better?&quot;\nLast</span> <span class="pre">line:\nPerson</span> <span class="pre">#1:</span> <span class="pre">i\'m</span> <span class="pre">trying</span> <span class="pre">to</span> <span class="pre">improve</span> <span class="pre">Langchain\'s</span> <span class="pre">interfaces,</span> <span class="pre">the</span> <span class="pre">UX,</span> <span class="pre">its</span> <span class="pre">integrations</span> <span class="pre">with</span> <span class="pre">various</span> <span class="pre">products</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">might</span> <span class="pre">want</span> <span class="pre">...</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">stuff.</span> <span class="pre">I\'m</span> <span class="pre">working</span> <span class="pre">with</span> <span class="pre">Person</span> <span class="pre">#2.\nOutput:</span> <span class="pre">Langchain,</span> <span class="pre">Person</span> <span class="pre">#2\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nConversation</span> <span class="pre">history</span> <span class="pre">(for</span> <span class="pre">reference</span> <span class="pre">only):\n{history}\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">(for</span> <span class="pre">extraction):\nHuman:</span> <span class="pre">{input}\n\nOutput:',</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True),</span> <span class="pre">llm,</span> <span class="pre">summary_message_cls=&lt;class</span> <span class="pre">'langchain.schema.SystemMessage'&gt;,</span> <span class="pre">memory_key='history'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/kg.html#ConversationKGMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationKGMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.chat_memory.BaseChatMemory</span></code></p>
<p>Knowledge graph memory for storing conversation memory.</p>
<p>Integrates with external knowledge graph to store and retrieve
information about knowledge triples in the conversation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chat_memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><em>langchain.schema.BaseChatMessageHistory</em></a>) – </p></li>
<li><p><strong>output_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>return_messages</strong> (<em>bool</em>) – </p></li>
<li><p><strong>k</strong> (<em>int</em>) – </p></li>
<li><p><strong>human_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ai_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>kg</strong> (<em>langchain.graphs.networkx_graph.NetworkxEntityGraph</em>) – </p></li>
<li><p><strong>knowledge_extraction_prompt</strong> (<a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><em>langchain.prompts.base.BasePromptTemplate</em></a>) – </p></li>
<li><p><strong>entity_extraction_prompt</strong> (<a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><em>langchain.prompts.base.BasePromptTemplate</em></a>) – </p></li>
<li><p><strong>llm</strong> (<em>langchain.base_language.BaseLanguageModel</em>) – </p></li>
<li><p><strong>summary_message_cls</strong> (<em>Type</em><em>[</em><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a><em>]</em>) – </p></li>
<li><p><strong>memory_key</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.ai_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ai_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AI'</span></em><a class="headerlink" href="#langchain.memory.ConversationKGMemory.ai_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.entity_extraction_prompt">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entity_extraction_prompt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><span class="pre">langchain.prompts.base.BasePromptTemplate</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PromptTemplate(input_variables=['history',</span> <span class="pre">'input'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template='You</span> <span class="pre">are</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">assistant</span> <span class="pre">reading</span> <span class="pre">the</span> <span class="pre">transcript</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">conversation</span> <span class="pre">between</span> <span class="pre">an</span> <span class="pre">AI</span> <span class="pre">and</span> <span class="pre">a</span> <span class="pre">human.</span> <span class="pre">Extract</span> <span class="pre">all</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">proper</span> <span class="pre">nouns</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation.</span> <span class="pre">As</span> <span class="pre">a</span> <span class="pre">guideline,</span> <span class="pre">a</span> <span class="pre">proper</span> <span class="pre">noun</span> <span class="pre">is</span> <span class="pre">generally</span> <span class="pre">capitalized.</span> <span class="pre">You</span> <span class="pre">should</span> <span class="pre">definitely</span> <span class="pre">extract</span> <span class="pre">all</span> <span class="pre">names</span> <span class="pre">and</span> <span class="pre">places.\n\nThe</span> <span class="pre">conversation</span> <span class="pre">history</span> <span class="pre">is</span> <span class="pre">provided</span> <span class="pre">just</span> <span class="pre">in</span> <span class="pre">case</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">coreference</span> <span class="pre">(e.g.</span> <span class="pre">&quot;What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">him&quot;</span> <span class="pre">where</span> <span class="pre">&quot;him&quot;</span> <span class="pre">is</span> <span class="pre">defined</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">previous</span> <span class="pre">line)</span> <span class="pre">--</span> <span class="pre">ignore</span> <span class="pre">items</span> <span class="pre">mentioned</span> <span class="pre">there</span> <span class="pre">that</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line.\n\nReturn</span> <span class="pre">the</span> <span class="pre">output</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">comma-separated</span> <span class="pre">list,</span> <span class="pre">or</span> <span class="pre">NONE</span> <span class="pre">if</span> <span class="pre">there</span> <span class="pre">is</span> <span class="pre">nothing</span> <span class="pre">of</span> <span class="pre">note</span> <span class="pre">to</span> <span class="pre">return</span> <span class="pre">(e.g.</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">is</span> <span class="pre">just</span> <span class="pre">issuing</span> <span class="pre">a</span> <span class="pre">greeting</span> <span class="pre">or</span> <span class="pre">having</span> <span class="pre">a</span> <span class="pre">simple</span> <span class="pre">conversation).\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">how\'s</span> <span class="pre">it</span> <span class="pre">going</span> <span class="pre">today?\nAI:</span> <span class="pre">&quot;It\'s</span> <span class="pre">going</span> <span class="pre">great!</span> <span class="pre">How</span> <span class="pre">about</span> <span class="pre">you?&quot;\nPerson</span> <span class="pre">#1:</span> <span class="pre">good!</span> <span class="pre">busy</span> <span class="pre">working</span> <span class="pre">on</span> <span class="pre">Langchain.</span> <span class="pre">lots</span> <span class="pre">to</span> <span class="pre">do.\nAI:</span> <span class="pre">&quot;That</span> <span class="pre">sounds</span> <span class="pre">like</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">work!</span> <span class="pre">What</span> <span class="pre">kind</span> <span class="pre">of</span> <span class="pre">things</span> <span class="pre">are</span> <span class="pre">you</span> <span class="pre">doing</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">Langchain</span> <span class="pre">better?&quot;\nLast</span> <span class="pre">line:\nPerson</span> <span class="pre">#1:</span> <span class="pre">i\'m</span> <span class="pre">trying</span> <span class="pre">to</span> <span class="pre">improve</span> <span class="pre">Langchain\'s</span> <span class="pre">interfaces,</span> <span class="pre">the</span> <span class="pre">UX,</span> <span class="pre">its</span> <span class="pre">integrations</span> <span class="pre">with</span> <span class="pre">various</span> <span class="pre">products</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">might</span> <span class="pre">want</span> <span class="pre">...</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">stuff.\nOutput:</span> <span class="pre">Langchain\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">how\'s</span> <span class="pre">it</span> <span class="pre">going</span> <span class="pre">today?\nAI:</span> <span class="pre">&quot;It\'s</span> <span class="pre">going</span> <span class="pre">great!</span> <span class="pre">How</span> <span class="pre">about</span> <span class="pre">you?&quot;\nPerson</span> <span class="pre">#1:</span> <span class="pre">good!</span> <span class="pre">busy</span> <span class="pre">working</span> <span class="pre">on</span> <span class="pre">Langchain.</span> <span class="pre">lots</span> <span class="pre">to</span> <span class="pre">do.\nAI:</span> <span class="pre">&quot;That</span> <span class="pre">sounds</span> <span class="pre">like</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">work!</span> <span class="pre">What</span> <span class="pre">kind</span> <span class="pre">of</span> <span class="pre">things</span> <span class="pre">are</span> <span class="pre">you</span> <span class="pre">doing</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">Langchain</span> <span class="pre">better?&quot;\nLast</span> <span class="pre">line:\nPerson</span> <span class="pre">#1:</span> <span class="pre">i\'m</span> <span class="pre">trying</span> <span class="pre">to</span> <span class="pre">improve</span> <span class="pre">Langchain\'s</span> <span class="pre">interfaces,</span> <span class="pre">the</span> <span class="pre">UX,</span> <span class="pre">its</span> <span class="pre">integrations</span> <span class="pre">with</span> <span class="pre">various</span> <span class="pre">products</span> <span class="pre">the</span> <span class="pre">user</span> <span class="pre">might</span> <span class="pre">want</span> <span class="pre">...</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">of</span> <span class="pre">stuff.</span> <span class="pre">I\'m</span> <span class="pre">working</span> <span class="pre">with</span> <span class="pre">Person</span> <span class="pre">#2.\nOutput:</span> <span class="pre">Langchain,</span> <span class="pre">Person</span> <span class="pre">#2\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nConversation</span> <span class="pre">history</span> <span class="pre">(for</span> <span class="pre">reference</span> <span class="pre">only):\n{history}\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">(for</span> <span class="pre">extraction):\nHuman:</span> <span class="pre">{input}\n\nOutput:',</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True)</span></em><a class="headerlink" href="#langchain.memory.ConversationKGMemory.entity_extraction_prompt" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.human_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">human_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Human'</span></em><a class="headerlink" href="#langchain.memory.ConversationKGMemory.human_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.k">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">k</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#langchain.memory.ConversationKGMemory.k" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.kg">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kg</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">langchain.graphs.networkx_graph.NetworkxEntityGraph</span></em><em class="property"> <span class="pre">[Optional]</span></em><a class="headerlink" href="#langchain.memory.ConversationKGMemory.kg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.knowledge_extraction_prompt">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">knowledge_extraction_prompt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><span class="pre">langchain.prompts.base.BasePromptTemplate</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PromptTemplate(input_variables=['history',</span> <span class="pre">'input'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template=&quot;You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">networked</span> <span class="pre">intelligence</span> <span class="pre">helping</span> <span class="pre">a</span> <span class="pre">human</span> <span class="pre">track</span> <span class="pre">knowledge</span> <span class="pre">triples</span> <span class="pre">about</span> <span class="pre">all</span> <span class="pre">relevant</span> <span class="pre">people,</span> <span class="pre">things,</span> <span class="pre">concepts,</span> <span class="pre">etc.</span> <span class="pre">and</span> <span class="pre">integrating</span> <span class="pre">them</span> <span class="pre">with</span> <span class="pre">your</span> <span class="pre">knowledge</span> <span class="pre">stored</span> <span class="pre">within</span> <span class="pre">your</span> <span class="pre">weights</span> <span class="pre">as</span> <span class="pre">well</span> <span class="pre">as</span> <span class="pre">that</span> <span class="pre">stored</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">knowledge</span> <span class="pre">graph.</span> <span class="pre">Extract</span> <span class="pre">all</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">knowledge</span> <span class="pre">triples</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">last</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation.</span> <span class="pre">A</span> <span class="pre">knowledge</span> <span class="pre">triple</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">clause</span> <span class="pre">that</span> <span class="pre">contains</span> <span class="pre">a</span> <span class="pre">subject,</span> <span class="pre">a</span> <span class="pre">predicate,</span> <span class="pre">and</span> <span class="pre">an</span> <span class="pre">object.</span> <span class="pre">The</span> <span class="pre">subject</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">entity</span> <span class="pre">being</span> <span class="pre">described,</span> <span class="pre">the</span> <span class="pre">predicate</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">property</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">subject</span> <span class="pre">that</span> <span class="pre">is</span> <span class="pre">being</span> <span class="pre">described,</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">object</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">value</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">property.\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">Did</span> <span class="pre">you</span> <span class="pre">hear</span> <span class="pre">aliens</span> <span class="pre">landed</span> <span class="pre">in</span> <span class="pre">Area</span> <span class="pre">51?\nAI:</span> <span class="pre">No,</span> <span class="pre">I</span> <span class="pre">didn't</span> <span class="pre">hear</span> <span class="pre">that.</span> <span class="pre">What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">Area</span> <span class="pre">51?\nPerson</span> <span class="pre">#1:</span> <span class="pre">It's</span> <span class="pre">a</span> <span class="pre">secret</span> <span class="pre">military</span> <span class="pre">base</span> <span class="pre">in</span> <span class="pre">Nevada.\nAI:</span> <span class="pre">What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">Nevada?\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation:\nPerson</span> <span class="pre">#1:</span> <span class="pre">It's</span> <span class="pre">a</span> <span class="pre">state</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">US.</span> <span class="pre">It's</span> <span class="pre">also</span> <span class="pre">the</span> <span class="pre">number</span> <span class="pre">1</span> <span class="pre">producer</span> <span class="pre">of</span> <span class="pre">gold</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">US.\n\nOutput:</span> <span class="pre">(Nevada,</span> <span class="pre">is</span> <span class="pre">a,</span> <span class="pre">state)&lt;|&gt;(Nevada,</span> <span class="pre">is</span> <span class="pre">in,</span> <span class="pre">US)&lt;|&gt;(Nevada,</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">number</span> <span class="pre">1</span> <span class="pre">producer</span> <span class="pre">of,</span> <span class="pre">gold)\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">Hello.\nAI:</span> <span class="pre">Hi!</span> <span class="pre">How</span> <span class="pre">are</span> <span class="pre">you?\nPerson</span> <span class="pre">#1:</span> <span class="pre">I'm</span> <span class="pre">good.</span> <span class="pre">How</span> <span class="pre">are</span> <span class="pre">you?\nAI:</span> <span class="pre">I'm</span> <span class="pre">good</span> <span class="pre">too.\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation:\nPerson</span> <span class="pre">#1:</span> <span class="pre">I'm</span> <span class="pre">going</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">store.\n\nOutput:</span> <span class="pre">NONE\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nEXAMPLE\nConversation</span> <span class="pre">history:\nPerson</span> <span class="pre">#1:</span> <span class="pre">What</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">know</span> <span class="pre">about</span> <span class="pre">Descartes?\nAI:</span> <span class="pre">Descartes</span> <span class="pre">was</span> <span class="pre">a</span> <span class="pre">French</span> <span class="pre">philosopher,</span> <span class="pre">mathematician,</span> <span class="pre">and</span> <span class="pre">scientist</span> <span class="pre">who</span> <span class="pre">lived</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">17th</span> <span class="pre">century.\nPerson</span> <span class="pre">#1:</span> <span class="pre">The</span> <span class="pre">Descartes</span> <span class="pre">I'm</span> <span class="pre">referring</span> <span class="pre">to</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">standup</span> <span class="pre">comedian</span> <span class="pre">and</span> <span class="pre">interior</span> <span class="pre">designer</span> <span class="pre">from</span> <span class="pre">Montreal.\nAI:</span> <span class="pre">Oh</span> <span class="pre">yes,</span> <span class="pre">He</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">comedian</span> <span class="pre">and</span> <span class="pre">an</span> <span class="pre">interior</span> <span class="pre">designer.</span> <span class="pre">He</span> <span class="pre">has</span> <span class="pre">been</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">industry</span> <span class="pre">for</span> <span class="pre">30</span> <span class="pre">years.</span> <span class="pre">His</span> <span class="pre">favorite</span> <span class="pre">food</span> <span class="pre">is</span> <span class="pre">baked</span> <span class="pre">bean</span> <span class="pre">pie.\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation:\nPerson</span> <span class="pre">#1:</span> <span class="pre">Oh</span> <span class="pre">huh.</span> <span class="pre">I</span> <span class="pre">know</span> <span class="pre">Descartes</span> <span class="pre">likes</span> <span class="pre">to</span> <span class="pre">drive</span> <span class="pre">antique</span> <span class="pre">scooters</span> <span class="pre">and</span> <span class="pre">play</span> <span class="pre">the</span> <span class="pre">mandolin.\nOutput:</span> <span class="pre">(Descartes,</span> <span class="pre">likes</span> <span class="pre">to</span> <span class="pre">drive,</span> <span class="pre">antique</span> <span class="pre">scooters)&lt;|&gt;(Descartes,</span> <span class="pre">plays,</span> <span class="pre">mandolin)\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nConversation</span> <span class="pre">history</span> <span class="pre">(for</span> <span class="pre">reference</span> <span class="pre">only):\n{history}\nLast</span> <span class="pre">line</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">(for</span> <span class="pre">extraction):\nHuman:</span> <span class="pre">{input}\n\nOutput:&quot;,</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True)</span></em><a class="headerlink" href="#langchain.memory.ConversationKGMemory.knowledge_extraction_prompt" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.llm">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">llm</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">langchain.base_language.BaseLanguageModel</span></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#langchain.memory.ConversationKGMemory.llm" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.summary_message_cls">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">summary_message_cls</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;class</span> <span class="pre">'langchain.schema.SystemMessage'&gt;</span></em><a class="headerlink" href="#langchain.memory.ConversationKGMemory.summary_message_cls" title="Permalink to this definition"></a></dt>
<dd><p>Number of previous utterances to include in the context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/kg.html#ConversationKGMemory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationKGMemory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear memory contents.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.get_current_entities">
<span class="sig-name descname"><span class="pre">get_current_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/kg.html#ConversationKGMemory.get_current_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationKGMemory.get_current_entities" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_string</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.get_knowledge_triplets">
<span class="sig-name descname"><span class="pre">get_knowledge_triplets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/kg.html#ConversationKGMemory.get_knowledge_triplets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationKGMemory.get_knowledge_triplets" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_string</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>List</em>[langchain.graphs.networkx_graph.KnowledgeTriple]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/kg.html#ConversationKGMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationKGMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return history buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationKGMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/kg.html#ConversationKGMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationKGMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Save context from this conversation to buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ConversationStringBufferMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">human_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Human'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ai_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AI'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'history'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/buffer.html#ConversationStringBufferMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseMemory" title="langchain.schema.BaseMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseMemory</span></code></a></p>
<p>Buffer for storing conversation memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>human_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ai_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>buffer</strong> (<em>str</em>) – </p></li>
<li><p><strong>output_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>memory_key</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory.ai_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ai_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AI'</span></em><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory.ai_prefix" title="Permalink to this definition"></a></dt>
<dd><p>Prefix to use for AI generated responses.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory.buffer">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory.buffer" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory.human_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">human_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Human'</span></em><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory.human_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory.input_key">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory.input_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory.output_key">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory.output_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/buffer.html#ConversationStringBufferMemory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear memory contents.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/buffer.html#ConversationStringBufferMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return history buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/buffer.html#ConversationStringBufferMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Save context from this conversation to buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ConversationStringBufferMemory.memory_variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_variables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.ConversationStringBufferMemory.memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Will always return list of memory variables.
:meta private:</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryBufferMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ConversationSummaryBufferMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*,</span> <span class="pre">human_prefix='Human',</span> <span class="pre">ai_prefix='AI',</span> <span class="pre">llm,</span> <span class="pre">prompt=PromptTemplate(input_variables=['summary',</span> <span class="pre">'new_lines'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template='Progressively</span> <span class="pre">summarize</span> <span class="pre">the</span> <span class="pre">lines</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">provided,</span> <span class="pre">adding</span> <span class="pre">onto</span> <span class="pre">the</span> <span class="pre">previous</span> <span class="pre">summary</span> <span class="pre">returning</span> <span class="pre">a</span> <span class="pre">new</span> <span class="pre">summary.\n\nEXAMPLE\nCurrent</span> <span class="pre">summary:\nThe</span> <span class="pre">human</span> <span class="pre">asks</span> <span class="pre">what</span> <span class="pre">the</span> <span class="pre">AI</span> <span class="pre">thinks</span> <span class="pre">of</span> <span class="pre">artificial</span> <span class="pre">intelligence.</span> <span class="pre">The</span> <span class="pre">AI</span> <span class="pre">thinks</span> <span class="pre">artificial</span> <span class="pre">intelligence</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">force</span> <span class="pre">for</span> <span class="pre">good.\n\nNew</span> <span class="pre">lines</span> <span class="pre">of</span> <span class="pre">conversation:\nHuman:</span> <span class="pre">Why</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">think</span> <span class="pre">artificial</span> <span class="pre">intelligence</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">force</span> <span class="pre">for</span> <span class="pre">good?\nAI:</span> <span class="pre">Because</span> <span class="pre">artificial</span> <span class="pre">intelligence</span> <span class="pre">will</span> <span class="pre">help</span> <span class="pre">humans</span> <span class="pre">reach</span> <span class="pre">their</span> <span class="pre">full</span> <span class="pre">potential.\n\nNew</span> <span class="pre">summary:\nThe</span> <span class="pre">human</span> <span class="pre">asks</span> <span class="pre">what</span> <span class="pre">the</span> <span class="pre">AI</span> <span class="pre">thinks</span> <span class="pre">of</span> <span class="pre">artificial</span> <span class="pre">intelligence.</span> <span class="pre">The</span> <span class="pre">AI</span> <span class="pre">thinks</span> <span class="pre">artificial</span> <span class="pre">intelligence</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">force</span> <span class="pre">for</span> <span class="pre">good</span> <span class="pre">because</span> <span class="pre">it</span> <span class="pre">will</span> <span class="pre">help</span> <span class="pre">humans</span> <span class="pre">reach</span> <span class="pre">their</span> <span class="pre">full</span> <span class="pre">potential.\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nCurrent</span> <span class="pre">summary:\n{summary}\n\nNew</span> <span class="pre">lines</span> <span class="pre">of</span> <span class="pre">conversation:\n{new_lines}\n\nNew</span> <span class="pre">summary:',</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True),</span> <span class="pre">summary_message_cls=&lt;class</span> <span class="pre">'langchain.schema.SystemMessage'&gt;,</span> <span class="pre">chat_memory=None,</span> <span class="pre">output_key=None,</span> <span class="pre">input_key=None,</span> <span class="pre">return_messages=False,</span> <span class="pre">max_token_limit=2000,</span> <span class="pre">moving_summary_buffer='',</span> <span class="pre">memory_key='history'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary_buffer.html#ConversationSummaryBufferMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryBufferMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.chat_memory.BaseChatMemory</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.summary.SummarizerMixin</span></code></p>
<p>Buffer with summarizer for storing conversation memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>human_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ai_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>llm</strong> (<em>langchain.base_language.BaseLanguageModel</em>) – </p></li>
<li><p><strong>prompt</strong> (<a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><em>langchain.prompts.base.BasePromptTemplate</em></a>) – </p></li>
<li><p><strong>summary_message_cls</strong> (<em>Type</em><em>[</em><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a><em>]</em>) – </p></li>
<li><p><strong>chat_memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><em>langchain.schema.BaseChatMessageHistory</em></a>) – </p></li>
<li><p><strong>output_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>return_messages</strong> (<em>bool</em>) – </p></li>
<li><p><strong>max_token_limit</strong> (<em>int</em>) – </p></li>
<li><p><strong>moving_summary_buffer</strong> (<em>str</em>) – </p></li>
<li><p><strong>memory_key</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryBufferMemory.max_token_limit">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_token_limit</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2000</span></em><a class="headerlink" href="#langchain.memory.ConversationSummaryBufferMemory.max_token_limit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryBufferMemory.memory_key">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'history'</span></em><a class="headerlink" href="#langchain.memory.ConversationSummaryBufferMemory.memory_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryBufferMemory.moving_summary_buffer">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">moving_summary_buffer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#langchain.memory.ConversationSummaryBufferMemory.moving_summary_buffer" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryBufferMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary_buffer.html#ConversationSummaryBufferMemory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryBufferMemory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear memory contents.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryBufferMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary_buffer.html#ConversationSummaryBufferMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryBufferMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return history buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryBufferMemory.prune">
<span class="sig-name descname"><span class="pre">prune</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary_buffer.html#ConversationSummaryBufferMemory.prune"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryBufferMemory.prune" title="Permalink to this definition"></a></dt>
<dd><p>Prune buffer if it exceeds max token limit</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryBufferMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary_buffer.html#ConversationSummaryBufferMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryBufferMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Save context from this conversation to buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryBufferMemory.buffer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.ConversationSummaryBufferMemory.buffer" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ConversationSummaryMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*,</span> <span class="pre">human_prefix='Human',</span> <span class="pre">ai_prefix='AI',</span> <span class="pre">llm,</span> <span class="pre">prompt=PromptTemplate(input_variables=['summary',</span> <span class="pre">'new_lines'],</span> <span class="pre">output_parser=None,</span> <span class="pre">partial_variables={},</span> <span class="pre">template='Progressively</span> <span class="pre">summarize</span> <span class="pre">the</span> <span class="pre">lines</span> <span class="pre">of</span> <span class="pre">conversation</span> <span class="pre">provided,</span> <span class="pre">adding</span> <span class="pre">onto</span> <span class="pre">the</span> <span class="pre">previous</span> <span class="pre">summary</span> <span class="pre">returning</span> <span class="pre">a</span> <span class="pre">new</span> <span class="pre">summary.\n\nEXAMPLE\nCurrent</span> <span class="pre">summary:\nThe</span> <span class="pre">human</span> <span class="pre">asks</span> <span class="pre">what</span> <span class="pre">the</span> <span class="pre">AI</span> <span class="pre">thinks</span> <span class="pre">of</span> <span class="pre">artificial</span> <span class="pre">intelligence.</span> <span class="pre">The</span> <span class="pre">AI</span> <span class="pre">thinks</span> <span class="pre">artificial</span> <span class="pre">intelligence</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">force</span> <span class="pre">for</span> <span class="pre">good.\n\nNew</span> <span class="pre">lines</span> <span class="pre">of</span> <span class="pre">conversation:\nHuman:</span> <span class="pre">Why</span> <span class="pre">do</span> <span class="pre">you</span> <span class="pre">think</span> <span class="pre">artificial</span> <span class="pre">intelligence</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">force</span> <span class="pre">for</span> <span class="pre">good?\nAI:</span> <span class="pre">Because</span> <span class="pre">artificial</span> <span class="pre">intelligence</span> <span class="pre">will</span> <span class="pre">help</span> <span class="pre">humans</span> <span class="pre">reach</span> <span class="pre">their</span> <span class="pre">full</span> <span class="pre">potential.\n\nNew</span> <span class="pre">summary:\nThe</span> <span class="pre">human</span> <span class="pre">asks</span> <span class="pre">what</span> <span class="pre">the</span> <span class="pre">AI</span> <span class="pre">thinks</span> <span class="pre">of</span> <span class="pre">artificial</span> <span class="pre">intelligence.</span> <span class="pre">The</span> <span class="pre">AI</span> <span class="pre">thinks</span> <span class="pre">artificial</span> <span class="pre">intelligence</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">force</span> <span class="pre">for</span> <span class="pre">good</span> <span class="pre">because</span> <span class="pre">it</span> <span class="pre">will</span> <span class="pre">help</span> <span class="pre">humans</span> <span class="pre">reach</span> <span class="pre">their</span> <span class="pre">full</span> <span class="pre">potential.\nEND</span> <span class="pre">OF</span> <span class="pre">EXAMPLE\n\nCurrent</span> <span class="pre">summary:\n{summary}\n\nNew</span> <span class="pre">lines</span> <span class="pre">of</span> <span class="pre">conversation:\n{new_lines}\n\nNew</span> <span class="pre">summary:',</span> <span class="pre">template_format='f-string',</span> <span class="pre">validate_template=True),</span> <span class="pre">summary_message_cls=&lt;class</span> <span class="pre">'langchain.schema.SystemMessage'&gt;,</span> <span class="pre">chat_memory=None,</span> <span class="pre">output_key=None,</span> <span class="pre">input_key=None,</span> <span class="pre">return_messages=False,</span> <span class="pre">buffer='',</span> <span class="pre">memory_key='history'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary.html#ConversationSummaryMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.chat_memory.BaseChatMemory</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.summary.SummarizerMixin</span></code></p>
<p>Conversation summarizer to memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>human_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ai_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>llm</strong> (<em>langchain.base_language.BaseLanguageModel</em>) – </p></li>
<li><p><strong>prompt</strong> (<a class="reference internal" href="prompts.html#langchain.prompts.BasePromptTemplate" title="langchain.prompts.base.BasePromptTemplate"><em>langchain.prompts.base.BasePromptTemplate</em></a>) – </p></li>
<li><p><strong>summary_message_cls</strong> (<em>Type</em><em>[</em><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a><em>]</em>) – </p></li>
<li><p><strong>chat_memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><em>langchain.schema.BaseChatMessageHistory</em></a>) – </p></li>
<li><p><strong>output_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>return_messages</strong> (<em>bool</em>) – </p></li>
<li><p><strong>buffer</strong> (<em>str</em>) – </p></li>
<li><p><strong>memory_key</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryMemory.buffer">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#langchain.memory.ConversationSummaryMemory.buffer" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary.html#ConversationSummaryMemory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryMemory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear memory contents.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryMemory.from_messages">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_messages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">llm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_memory</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summarize_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary.html#ConversationSummaryMemory.from_messages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryMemory.from_messages" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>llm</strong> (<em>langchain.base_language.BaseLanguageModel</em>) – </p></li>
<li><p><strong>chat_memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><em>langchain.schema.BaseChatMessageHistory</em></a>) – </p></li>
<li><p><strong>summarize_step</strong> (<em>int</em>) – </p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#langchain.memory.ConversationSummaryMemory" title="langchain.memory.summary.ConversationSummaryMemory">langchain.memory.summary.ConversationSummaryMemory</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary.html#ConversationSummaryMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return history buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationSummaryMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/summary.html#ConversationSummaryMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationSummaryMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Save context from this conversation to buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ConversationTokenBufferMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ConversationTokenBufferMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">human_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Human'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ai_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AI'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'history'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_token_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/token_buffer.html#ConversationTokenBufferMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationTokenBufferMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.chat_memory.BaseChatMemory</span></code></p>
<p>Buffer for storing conversation memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chat_memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><em>langchain.schema.BaseChatMessageHistory</em></a>) – </p></li>
<li><p><strong>output_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>return_messages</strong> (<em>bool</em>) – </p></li>
<li><p><strong>human_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ai_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>llm</strong> (<em>langchain.base_language.BaseLanguageModel</em>) – </p></li>
<li><p><strong>memory_key</strong> (<em>str</em>) – </p></li>
<li><p><strong>max_token_limit</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationTokenBufferMemory.ai_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ai_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AI'</span></em><a class="headerlink" href="#langchain.memory.ConversationTokenBufferMemory.ai_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationTokenBufferMemory.human_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">human_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Human'</span></em><a class="headerlink" href="#langchain.memory.ConversationTokenBufferMemory.human_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationTokenBufferMemory.llm">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">llm</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">langchain.base_language.BaseLanguageModel</span></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#langchain.memory.ConversationTokenBufferMemory.llm" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationTokenBufferMemory.max_token_limit">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_token_limit</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2000</span></em><a class="headerlink" href="#langchain.memory.ConversationTokenBufferMemory.max_token_limit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ConversationTokenBufferMemory.memory_key">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'history'</span></em><a class="headerlink" href="#langchain.memory.ConversationTokenBufferMemory.memory_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationTokenBufferMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/token_buffer.html#ConversationTokenBufferMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationTokenBufferMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return history buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ConversationTokenBufferMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/token_buffer.html#ConversationTokenBufferMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ConversationTokenBufferMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Save context from this conversation to buffer. Pruned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ConversationTokenBufferMemory.buffer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.ConversationTokenBufferMemory.buffer" title="Permalink to this definition"></a></dt>
<dd><p>String buffer of memory.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.CosmosDBChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">CosmosDBChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cosmos_endpoint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmos_database</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmos_container</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credential</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmos_client_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/cosmos_db.html#CosmosDBChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CosmosDBChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>Chat history backed by Azure CosmosDB.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cosmos_endpoint</strong> (<em>str</em>) – </p></li>
<li><p><strong>cosmos_database</strong> (<em>str</em>) – </p></li>
<li><p><strong>cosmos_container</strong> (<em>str</em>) – </p></li>
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>user_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>credential</strong> (<em>Any</em>) – </p></li>
<li><p><strong>connection_string</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>ttl</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – </p></li>
<li><p><strong>cosmos_client_kwargs</strong> (<em>Optional</em><em>[</em><em>dict</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CosmosDBChatMessageHistory.prepare_cosmos">
<span class="sig-name descname"><span class="pre">prepare_cosmos</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/cosmos_db.html#CosmosDBChatMessageHistory.prepare_cosmos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CosmosDBChatMessageHistory.prepare_cosmos" title="Permalink to this definition"></a></dt>
<dd><p>Prepare the CosmosDB client.</p>
<p>Use this function or the context manager to make sure your database is ready.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CosmosDBChatMessageHistory.load_messages">
<span class="sig-name descname"><span class="pre">load_messages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/cosmos_db.html#CosmosDBChatMessageHistory.load_messages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CosmosDBChatMessageHistory.load_messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the messages from Cosmos</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CosmosDBChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/cosmos_db.html#CosmosDBChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CosmosDBChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Add a self-created message to the store</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CosmosDBChatMessageHistory.upsert_messages">
<span class="sig-name descname"><span class="pre">upsert_messages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/cosmos_db.html#CosmosDBChatMessageHistory.upsert_messages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CosmosDBChatMessageHistory.upsert_messages" title="Permalink to this definition"></a></dt>
<dd><p>Update the cosmosdb item.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.CosmosDBChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/cosmos_db.html#CosmosDBChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.CosmosDBChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear session memory from this memory and cosmos.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.DynamoDBChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">DynamoDBChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endpoint_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/dynamodb.html#DynamoDBChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.DynamoDBChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>Chat message history that stores history in AWS DynamoDB.
This class expects that a DynamoDB table with name <cite>table_name</cite>
and a partition Key of <cite>SessionId</cite> is present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<em>str</em>) – name of the DynamoDB table</p></li>
<li><p><strong>session_id</strong> (<em>str</em>) – arbitrary key that is used to store the messages
of a single chat session.</p></li>
<li><p><strong>endpoint_url</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – URL of the AWS endpoint to connect to. This argument
is optional and useful for test purposes, like using Localstack.
If you plan to use AWS cloud service, you normally don’t have to
worry about setting the endpoint_url.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.DynamoDBChatMessageHistory.messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.DynamoDBChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the messages from DynamoDB</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.DynamoDBChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/dynamodb.html#DynamoDBChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.DynamoDBChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Append the message to the record in DynamoDB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.DynamoDBChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/dynamodb.html#DynamoDBChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.DynamoDBChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear session memory from DynamoDB</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.FileChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">FileChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/file.html#FileChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.FileChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>Chat message history that stores history in a local file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – path of the local file to store the messages.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.FileChatMessageHistory.messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.FileChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the messages from the local file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.FileChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/file.html#FileChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.FileChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Append the message to the record in the local file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.FileChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/file.html#FileChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.FileChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear session memory from the local file</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.InMemoryEntityStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">InMemoryEntityStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#InMemoryEntityStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.InMemoryEntityStore" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.entity.BaseEntityStore</span></code></p>
<p>Basic in-memory entity store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Optional</em><em>[</em><em>str</em><em>]</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.InMemoryEntityStore.store">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">store</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#langchain.memory.InMemoryEntityStore.store" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.InMemoryEntityStore.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#InMemoryEntityStore.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.InMemoryEntityStore.clear" title="Permalink to this definition"></a></dt>
<dd><p>Delete all entities from store.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.InMemoryEntityStore.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#InMemoryEntityStore.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.InMemoryEntityStore.delete" title="Permalink to this definition"></a></dt>
<dd><p>Delete entity value from store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.InMemoryEntityStore.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#InMemoryEntityStore.exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.InMemoryEntityStore.exists" title="Permalink to this definition"></a></dt>
<dd><p>Check if entity exists in store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.InMemoryEntityStore.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#InMemoryEntityStore.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.InMemoryEntityStore.get" title="Permalink to this definition"></a></dt>
<dd><p>Get entity value from store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – </p></li>
<li><p><strong>default</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Optional</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.InMemoryEntityStore.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#InMemoryEntityStore.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.InMemoryEntityStore.set" title="Permalink to this definition"></a></dt>
<dd><p>Set entity value in store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – </p></li>
<li><p><strong>value</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.MomentoChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">MomentoChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'message_store:'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_cache_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/momento.html#MomentoChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MomentoChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>Chat message history cache that uses Momento as a backend.
See <a class="reference external" href="https://gomomento.com/">https://gomomento.com/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>cache_client</strong> (<em>momento.CacheClient</em>) – </p></li>
<li><p><strong>cache_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>key_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ttl</strong> (<em>Optional</em><em>[</em><em>timedelta</em><em>]</em>) – </p></li>
<li><p><strong>ensure_cache_exists</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.MomentoChatMessageHistory.from_client_params">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_client_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configuration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/momento.html#MomentoChatMessageHistory.from_client_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MomentoChatMessageHistory.from_client_params" title="Permalink to this definition"></a></dt>
<dd><p>Construct cache from CacheClient parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>cache_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>ttl</strong> (<em>timedelta</em>) – </p></li>
<li><p><strong>configuration</strong> (<em>Optional</em><em>[</em><em>momento.config.Configuration</em><em>]</em>) – </p></li>
<li><p><strong>auth_token</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#langchain.memory.MomentoChatMessageHistory" title="langchain.memory.MomentoChatMessageHistory">MomentoChatMessageHistory</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.MomentoChatMessageHistory.messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.MomentoChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the messages from Momento.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>SdkException</strong> – Momento service or network error</p></li>
<li><p><strong>Exception</strong> – Unexpected response</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of cached messages</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage">BaseMessage</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.MomentoChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/momento.html#MomentoChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MomentoChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Store a message in the cache.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>BaseMessage</em></a>) – The message object to store.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>SdkException</strong> – Momento service or network error.</p></li>
<li><p><strong>Exception</strong> – Unexpected response.</p></li>
</ul>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.MomentoChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/momento.html#MomentoChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MomentoChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Remove the session’s messages from the cache.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>SdkException</strong> – Momento service or network error.</p></li>
<li><p><strong>Exception</strong> – Unexpected response.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.MongoDBChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">MongoDBChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">database_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chat_history'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'message_store'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/mongodb.html#MongoDBChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MongoDBChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>Chat message history that stores history in MongoDB.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection_string</strong> (<em>str</em>) – connection string to connect to MongoDB</p></li>
<li><p><strong>session_id</strong> (<em>str</em>) – arbitrary key that is used to store the messages
of a single chat session.</p></li>
<li><p><strong>database_name</strong> (<em>str</em>) – name of the database to use</p></li>
<li><p><strong>collection_name</strong> (<em>str</em>) – name of the collection to use</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.MongoDBChatMessageHistory.messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.MongoDBChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the messages from MongoDB</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.MongoDBChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/mongodb.html#MongoDBChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MongoDBChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Append the message to the record in MongoDB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.MongoDBChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/mongodb.html#MongoDBChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MongoDBChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear session memory from MongoDB</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">MotorheadMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'https://api.getmetal.io/v1/motorhead'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'history'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/motorhead_memory.html#MotorheadMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MotorheadMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.chat_memory.BaseChatMemory</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chat_memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><em>langchain.schema.BaseChatMessageHistory</em></a>) – </p></li>
<li><p><strong>output_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>return_messages</strong> (<em>bool</em>) – </p></li>
<li><p><strong>url</strong> (<em>str</em>) – </p></li>
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>context</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>api_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>client_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – </p></li>
<li><p><strong>memory_key</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.api_key">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">api_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#langchain.memory.MotorheadMemory.api_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.client_id">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">client_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#langchain.memory.MotorheadMemory.client_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.context">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">context</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#langchain.memory.MotorheadMemory.context" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.session_id">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">session_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#langchain.memory.MotorheadMemory.session_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.url">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://api.getmetal.io/v1/motorhead'</span></em><a class="headerlink" href="#langchain.memory.MotorheadMemory.url" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.delete_session">
<span class="sig-name descname"><span class="pre">delete_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/motorhead_memory.html#MotorheadMemory.delete_session"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MotorheadMemory.delete_session" title="Permalink to this definition"></a></dt>
<dd><p>Delete a session</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.init">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/motorhead_memory.html#MotorheadMemory.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MotorheadMemory.init" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/motorhead_memory.html#MotorheadMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MotorheadMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return key-value pairs given the text input to the chain.</p>
<p>If None, return all memories</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/motorhead_memory.html#MotorheadMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.MotorheadMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Save context from this conversation to buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.MotorheadMemory.memory_variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_variables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.MotorheadMemory.memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Input keys this memory class will load dynamically.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.PostgresChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">PostgresChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'postgresql://postgres:mypassword&#64;localhost/chat_history'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'message_store'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/postgres.html#PostgresChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.PostgresChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>Chat message history stored in a Postgres database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>connection_string</strong> (<em>str</em>) – </p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.PostgresChatMessageHistory.messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.PostgresChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the messages from PostgreSQL</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.PostgresChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/postgres.html#PostgresChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.PostgresChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Append the message to the record in PostgreSQL</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.PostgresChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/postgres.html#PostgresChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.PostgresChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear session memory from PostgreSQL</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.ReadOnlySharedMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ReadOnlySharedMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/readonly.html#ReadOnlySharedMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ReadOnlySharedMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseMemory" title="langchain.schema.BaseMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseMemory</span></code></a></p>
<p>A memory wrapper that is read-only and cannot be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>memory</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMemory" title="langchain.schema.BaseMemory"><em>langchain.schema.BaseMemory</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.ReadOnlySharedMemory.memory">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMemory" title="langchain.schema.BaseMemory"><span class="pre">langchain.schema.BaseMemory</span></a></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#langchain.memory.ReadOnlySharedMemory.memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ReadOnlySharedMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/readonly.html#ReadOnlySharedMemory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ReadOnlySharedMemory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Nothing to clear, got a memory like a vault.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ReadOnlySharedMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/readonly.html#ReadOnlySharedMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ReadOnlySharedMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Load memory variables from memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ReadOnlySharedMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/readonly.html#ReadOnlySharedMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ReadOnlySharedMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Nothing should be saved or changed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ReadOnlySharedMemory.memory_variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_variables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.ReadOnlySharedMemory.memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return memory variables.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.RedisChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">RedisChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'redis://localhost:6379/0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'message_store:'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/redis.html#RedisChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.RedisChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>Chat message history stored in a Redis database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>url</strong> (<em>str</em>) – </p></li>
<li><p><strong>key_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ttl</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.RedisChatMessageHistory.key">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#langchain.memory.RedisChatMessageHistory.key" title="Permalink to this definition"></a></dt>
<dd><p>Construct the record key to use</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.RedisChatMessageHistory.messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.RedisChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the messages from Redis</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.RedisChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/redis.html#RedisChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.RedisChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Append the message to the record in Redis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.RedisChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/redis.html#RedisChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.RedisChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear session memory from Redis</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">RedisEntityStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'redis://localhost:6379/0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'memory_store'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">86400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recall_ttl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">259200</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redis_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#RedisEntityStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.RedisEntityStore" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.entity.BaseEntityStore</span></code></p>
<p>Redis-backed Entity store. Entities get a TTL of 1 day by default, and
that TTL is extended by 3 days every time the entity is read back.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>url</strong> (<em>str</em>) – </p></li>
<li><p><strong>key_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>ttl</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – </p></li>
<li><p><strong>recall_ttl</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – </p></li>
<li><p><strong>args</strong> (<em>Any</em>) – </p></li>
<li><p><strong>redis_client</strong> (<em>Any</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.key_prefix">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">key_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'memory_store'</span></em><a class="headerlink" href="#langchain.memory.RedisEntityStore.key_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.recall_ttl">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recall_ttl</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">259200</span></em><a class="headerlink" href="#langchain.memory.RedisEntityStore.recall_ttl" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.redis_client">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">redis_client</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#langchain.memory.RedisEntityStore.redis_client" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.session_id">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">session_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'default'</span></em><a class="headerlink" href="#langchain.memory.RedisEntityStore.session_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.ttl">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ttl</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">86400</span></em><a class="headerlink" href="#langchain.memory.RedisEntityStore.ttl" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#RedisEntityStore.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.RedisEntityStore.clear" title="Permalink to this definition"></a></dt>
<dd><p>Delete all entities from store.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#RedisEntityStore.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.RedisEntityStore.delete" title="Permalink to this definition"></a></dt>
<dd><p>Delete entity value from store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#RedisEntityStore.exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.RedisEntityStore.exists" title="Permalink to this definition"></a></dt>
<dd><p>Check if entity exists in store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#RedisEntityStore.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.RedisEntityStore.get" title="Permalink to this definition"></a></dt>
<dd><p>Get entity value from store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – </p></li>
<li><p><strong>default</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Optional</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#RedisEntityStore.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.RedisEntityStore.set" title="Permalink to this definition"></a></dt>
<dd><p>Set entity value in store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – </p></li>
<li><p><strong>value</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.RedisEntityStore.full_key_prefix">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_key_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#langchain.memory.RedisEntityStore.full_key_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.SQLChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">SQLChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'message_store'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/sql.html#SQLChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SQLChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>Chat message history stored in an SQL database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>connection_string</strong> (<em>str</em>) – </p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.SQLChatMessageHistory.messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.SQLChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve all messages from db</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SQLChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/sql.html#SQLChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SQLChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Append the message to the record in db</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SQLChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/sql.html#SQLChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SQLChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear session memory from db</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.SQLiteEntityStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">SQLiteEntityStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'entities.db'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'memory_store'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#SQLiteEntityStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SQLiteEntityStore" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.memory.entity.BaseEntityStore</span></code></p>
<p>SQLite-backed Entity store</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>db_file</strong> (<em>str</em>) – </p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>args</strong> (<em>Any</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.SQLiteEntityStore.session_id">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">session_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'default'</span></em><a class="headerlink" href="#langchain.memory.SQLiteEntityStore.session_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.SQLiteEntityStore.table_name">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">table_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'memory_store'</span></em><a class="headerlink" href="#langchain.memory.SQLiteEntityStore.table_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SQLiteEntityStore.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#SQLiteEntityStore.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SQLiteEntityStore.clear" title="Permalink to this definition"></a></dt>
<dd><p>Delete all entities from store.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SQLiteEntityStore.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#SQLiteEntityStore.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SQLiteEntityStore.delete" title="Permalink to this definition"></a></dt>
<dd><p>Delete entity value from store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SQLiteEntityStore.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#SQLiteEntityStore.exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SQLiteEntityStore.exists" title="Permalink to this definition"></a></dt>
<dd><p>Check if entity exists in store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SQLiteEntityStore.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#SQLiteEntityStore.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SQLiteEntityStore.get" title="Permalink to this definition"></a></dt>
<dd><p>Get entity value from store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – </p></li>
<li><p><strong>default</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Optional</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SQLiteEntityStore.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/entity.html#SQLiteEntityStore.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SQLiteEntityStore.set" title="Permalink to this definition"></a></dt>
<dd><p>Set entity value in store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – </p></li>
<li><p><strong>value</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.SQLiteEntityStore.full_table_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_table_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#langchain.memory.SQLiteEntityStore.full_table_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.SimpleMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">SimpleMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/simple.html#SimpleMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SimpleMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseMemory" title="langchain.schema.BaseMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseMemory</span></code></a></p>
<p>Simple memory for storing context or other bits of information that shouldn’t
ever change between prompts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>memories</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.SimpleMemory.memories">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memories</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#langchain.memory.SimpleMemory.memories" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SimpleMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/simple.html#SimpleMemory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SimpleMemory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Nothing to clear, got a memory like a vault.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SimpleMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/simple.html#SimpleMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SimpleMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return key-value pairs given the text input to the chain.</p>
<p>If None, return all memories</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.SimpleMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/simple.html#SimpleMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.SimpleMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Nothing should be saved or changed, my memory is set in stone.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.SimpleMemory.memory_variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_variables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.SimpleMemory.memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Input keys this memory class will load dynamically.</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="langchain.memory.VectorStoreRetrieverMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">VectorStoreRetrieverMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retriever</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'history'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_docs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/vectorstore.html#VectorStoreRetrieverMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.VectorStoreRetrieverMemory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseMemory" title="langchain.schema.BaseMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseMemory</span></code></a></p>
<p>Class for a VectorStore-backed memory object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>retriever</strong> (<em>langchain.vectorstores.base.VectorStoreRetriever</em>) – </p></li>
<li><p><strong>memory_key</strong> (<em>str</em>) – </p></li>
<li><p><strong>input_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>return_docs</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.VectorStoreRetrieverMemory.input_key">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#langchain.memory.VectorStoreRetrieverMemory.input_key" title="Permalink to this definition"></a></dt>
<dd><p>Key name to index the inputs to load_memory_variables.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.VectorStoreRetrieverMemory.memory_key">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'history'</span></em><a class="headerlink" href="#langchain.memory.VectorStoreRetrieverMemory.memory_key" title="Permalink to this definition"></a></dt>
<dd><p>Key name to locate the memories in the result of load_memory_variables.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.VectorStoreRetrieverMemory.retriever">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">retriever</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">langchain.vectorstores.base.VectorStoreRetriever</span></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#langchain.memory.VectorStoreRetrieverMemory.retriever" title="Permalink to this definition"></a></dt>
<dd><p>VectorStoreRetriever object to connect to.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="langchain.memory.VectorStoreRetrieverMemory.return_docs">
<em class="property"><span class="pre">attribute</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">return_docs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#langchain.memory.VectorStoreRetrieverMemory.return_docs" title="Permalink to this definition"></a></dt>
<dd><p>Whether or not to return the result of querying the database directly.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.VectorStoreRetrieverMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/vectorstore.html#VectorStoreRetrieverMemory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.VectorStoreRetrieverMemory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Nothing to clear.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.VectorStoreRetrieverMemory.load_memory_variables">
<span class="sig-name descname"><span class="pre">load_memory_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/vectorstore.html#VectorStoreRetrieverMemory.load_memory_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.VectorStoreRetrieverMemory.load_memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>Return history buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Dict</em>[str, <em>Union</em>[<em>List</em>[<a class="reference internal" href="base_classes.html#langchain.schema.Document" title="langchain.schema.Document">langchain.schema.Document</a>], str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.VectorStoreRetrieverMemory.save_context">
<span class="sig-name descname"><span class="pre">save_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/vectorstore.html#VectorStoreRetrieverMemory.save_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.VectorStoreRetrieverMemory.save_context" title="Permalink to this definition"></a></dt>
<dd><p>Save context from this conversation to buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
<li><p><strong>outputs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.VectorStoreRetrieverMemory.memory_variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_variables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.VectorStoreRetrieverMemory.memory_variables" title="Permalink to this definition"></a></dt>
<dd><p>The list of keys emitted from the load_memory_variables method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="langchain.memory.ZepChatMessageHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain.memory.</span></span><span class="sig-name descname"><span class="pre">ZepChatMessageHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'http://localhost:8000'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/zep.html#ZepChatMessageHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ZepChatMessageHistory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base_classes.html#langchain.schema.BaseChatMessageHistory" title="langchain.schema.BaseChatMessageHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">langchain.schema.BaseChatMessageHistory</span></code></a></p>
<p>A ChatMessageHistory implementation that uses Zep as a backend.</p>
<p>Recommended usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up Zep Chat History</span>
<span class="n">zep_chat_history</span> <span class="o">=</span> <span class="n">ZepChatMessageHistory</span><span class="p">(</span>
    <span class="n">session_id</span><span class="o">=</span><span class="n">session_id</span><span class="p">,</span>
    <span class="n">url</span><span class="o">=</span><span class="n">ZEP_API_URL</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Use a standard ConversationBufferMemory to encapsulate the Zep chat history</span>
<span class="n">memory</span> <span class="o">=</span> <span class="n">ConversationBufferMemory</span><span class="p">(</span>
    <span class="n">memory_key</span><span class="o">=</span><span class="s2">&quot;chat_history&quot;</span><span class="p">,</span> <span class="n">chat_memory</span><span class="o">=</span><span class="n">zep_chat_history</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Zep provides long-term conversation storage for LLM apps. The server stores,
summarizes, embeds, indexes, and enriches conversational AI chat
histories, and exposes them via simple, low-latency APIs.</p>
<p>For server installation instructions and more, see: <a class="reference external" href="https://getzep.github.io/">https://getzep.github.io/</a></p>
<p>This class is a thin wrapper around the zep-python package. Additional
Zep functionality is exposed via the <cite>zep_summary</cite> and <cite>zep_messages</cite>
properties.</p>
<p>For more information on the zep-python package, see:
<a class="reference external" href="https://github.com/getzep/zep-python">https://github.com/getzep/zep-python</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session_id</strong> (<em>str</em>) – </p></li>
<li><p><strong>url</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ZepChatMessageHistory.messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><span class="pre">langchain.schema.BaseMessage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.ZepChatMessageHistory.messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve messages from Zep memory</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ZepChatMessageHistory.zep_messages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">zep_messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Message</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.ZepChatMessageHistory.zep_messages" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve summary from Zep memory</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="langchain.memory.ZepChatMessageHistory.zep_summary">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">zep_summary</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#langchain.memory.ZepChatMessageHistory.zep_summary" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve summary from Zep memory</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ZepChatMessageHistory.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/zep.html#ZepChatMessageHistory.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ZepChatMessageHistory.add_message" title="Permalink to this definition"></a></dt>
<dd><p>Append the message to the Zep memory history</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference internal" href="base_classes.html#langchain.schema.BaseMessage" title="langchain.schema.BaseMessage"><em>langchain.schema.BaseMessage</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ZepChatMessageHistory.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/zep.html#ZepChatMessageHistory.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ZepChatMessageHistory.search" title="Permalink to this definition"></a></dt>
<dd><p>Search Zep memory for messages matching the query</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) – </p></li>
<li><p><strong>metadata</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>]</em>) – </p></li>
<li><p><strong>limit</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[MemorySearchResult]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain.memory.ZepChatMessageHistory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain/memory/chat_message_histories/zep.html#ZepChatMessageHistory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain.memory.ZepChatMessageHistory.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear session memory from Zep. Note that Zep is long-term storage for memory
and this is not advised unless you have specific data retention requirements.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="agent_toolkits.html" class="btn btn-neutral float-left" title="Agent Toolkits" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="callbacks.html" class="btn btn-neutral float-right" title="Callbacks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Harrison Chase.
      <span class="commit">Revision <code>e5611565</code>.
      </span>
      <span class="lastupdated">Last updated on Jun 28, 2023.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/en/latest/">latest</a></dd>
        
          <dd><a href="/en/stable/">stable</a></dd>
        
          <dd><a href="/en/dev2049-page_per_class/">dev2049-page_per_class</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
      </dl>
      <dl>
        
        <dt>On Read the Docs</dt>
          <dd>
            <a href="//readthedocs.org/projects/langchain/?fromdocs=langchain">Project Home</a>
          </dd>
          <dd>
            <a href="//readthedocs.org/builds/langchain/?fromdocs=langchain">Builds</a>
          </dd>
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>